<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

<nav class="navbar navbar-expand-lg navbar-custom" style="background-color: #3778c2;">
  <div class="container-fluid">
    <a class="p-2" href="<%= splash_root_path %>">
      <i class="fas fa-arrow-left fa-lg text-white"></i>
    </a>
    <h2 class="text-white">Login</h2>
    <a id="login-link" class="nav-link text-white">Log in</a>
  </div>
</nav>

<%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
  <div class="field">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
  </div>

  <div class="field">
    <%= f.label :password %><br />
    <%= f.password_field :password, autocomplete: "current-password" %>
  </div>

  <% if devise_mapping.rememberable? %>
    <div class="field">
      <%= f.check_box :remember_me %>
      <%= f.label :remember_me %>
    </div>
  <% end %>

<% end %>

<%= render "devise/shared/links" %>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const loginLink = document.getElementById("login-link");
    const loginForm = document.querySelector("form#new_user");

    if (loginLink && loginForm) {
      loginLink.addEventListener("click", function() {
        loginForm.submit();
      });
    }
  });
</script>
